!function(){if(!window.WebViewJavascriptBridge){var r,e,t=[],i=[],d={},s="yy",o="__QUEUE_MESSAGE__/",c={},l=1,f=window.WebViewJavascriptBridge={init:function(e){if(f._messageHandler)throw new Error("WebViewJavascriptBridge.init called twice");f._messageHandler=e;var n=i;i=null;for(var a=0;a<n.length;a++)v(n[a])},send:function(e,n){u({data:e},n)},registerHandler:function(e,n){d[e]=n},callHandler:function(e,n,a){u({handlerName:e,data:n},a)},_fetchQueue:function(){var e=JSON.stringify(t);if(t=[],-1<navigator.userAgent.toLowerCase().indexOf("iphone")||-1<navigator.userAgent.indexOf("iPad"))return e;-1<navigator.userAgent.toLowerCase().indexOf("android")&&(r.src=s+"://return/_fetchQueue/"+encodeURIComponent(e))},_handleMessageFromNative:function(e){i?i.push(e):v(e)}},n=document;(r=(e=n).createElement("iframe")).style.display="none",e.documentElement.appendChild(r);var a=n.createEvent("Events");a.initEvent("WebViewJavascriptBridgeReady"),a.bridge=f,n.dispatchEvent(a)}function u(e,n){if(n){var a="cb_"+l+++"_"+(new Date).getTime();c[a]=n,e.callbackId=a}t.push(e),r.src=s+"://"+o}function v(t){setTimeout(function(){var e,n=JSON.parse(t);if(n.responseId){if(!(e=c[n.responseId]))return;e(n.responseData),delete c[n.responseId]}else{if(n.callbackId){var a=n.callbackId;e=function(e){u({responseId:a,responseData:e})}}var r=f._messageHandler;n.handlerName&&(r=d[n.handlerName]);try{r(n.data,e)}catch(e){"undefined"!=typeof console&&console.log("WebViewJavascriptBridge: WARNING: javascript handler threw.",n,e)}}})}}();